{"version":3,"sources":["../node_modules/peerjs/dist sync","scripts/Create.jsx","scripts/MakeRoom.jsx","scripts/JoinRoom.jsx","scripts/UserCall.jsx","scripts/Call.jsx","scripts/App.jsx","redux/store.js","serviceWorker.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","Create","UPLOAD_POINT","state","host","moderator","participant","h","m","p","update","bind","console","log","target","value","FormData","append","axios","post","this","usertype","username","password","setState","data","Fragment","className","onChange","name","type","onClick","handleClick","map","Component","MakeRoom","view","handleSubmit","style","display","JoinRoom","room_id","qs","require","Make","local","count","navigator","getWebcam","getUserMedia","webKitGetUserMedia","moxGetUserMedia","mozGetUserMedia","msGetUserMedia","mediaDevices","video","facingMode","audio","then","stream","document","querySelector","srcObject","onloadedmetadata","play","parse","props","location","search","room","my_id","peer","peer_ids","Peer","path","secure","on","conn","err","call","answer","remote","appendChild","createElement","filter","a_peer","connect","send","src","Test","v4","conn_id","muted","transform","App","component","UserCall","Call","store","createStore","hello","action","push","payload","Boolean","window","hostname","match","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.966c276e.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 73;","import React, { Component } from 'react'\nimport axios from 'axios'\n\nexport default class Create extends Component {\n\tUPLOAD_POINT = 'http://localhost:8080/'\n\tconstructor() {\n\t\tsuper()\n\t\tthis.state = {\n\t\t\thost: '',\n\t\t\tmoderator: '',\n\t\t\tparticipant: '',\n\t\t\th: [],\n\t\t\tm: [],\n\t\t\tp: [],\n        }\n        this.update = this.update.bind(this)\n\t}\n\tasync handleClick(e) {\n\t\tconsole.log(e.target.value)\n\t\tconst form = new FormData()\n\t\tform.append('usertype', e.target.value)\n\n\t\tawait axios.post(`${this.UPLOAD_POINT}make`, {\n\t\t\tusertype: e.target.value,\n\t\t\tusername: this.state[e.target.value],\n\t\t\tpassword: 'password',\n        })\n        this.update()\n    }\n    \n    async update(){\n        const h = await axios.post(`${this.UPLOAD_POINT}users`, {\n\t\t\tusertype: 'host',\n\t\t})\n\t\tthis.setState({ h: h.data })\n        \n        const m = await axios.post(`${this.UPLOAD_POINT}users`, {\n\t\t\tusertype: 'moderator',\n\t\t})\n\t\tthis.setState({ m: m.data })\n        \n        const p = await axios.post(`${this.UPLOAD_POINT}users`, {\n\t\t\tusertype: 'participant',\n\t\t})\n\t\tthis.setState({ p: p.data })\n    }\n\tasync componentDidMount() {\n        await this.update()\n    }\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className='Outer'>\n\t\t\t\t\t<div className='Inner'>\n\t\t\t\t\t\t<div className='makes'>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t[e.target.name]: e.target.value,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tname='host'\n\t\t\t\t\t\t\t\tid='host'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\tvalue='host'\n\t\t\t\t\t\t\t\tonClick={(e) => this.handleClick(e)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{this.state.h.map((host) => (\n\t\t\t\t\t\t\t\t<p>{host['_id']}</p>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='makes'>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t[e.target.name]: e.target.value,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tname='moderator'\n\t\t\t\t\t\t\t\tid='moderator'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\tvalue='moderator'\n\t\t\t\t\t\t\t\tonClick={(e) => this.handleClick(e)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{this.state.m.map((moderator) => (\n\t\t\t\t\t\t\t\t<p>{moderator['_id']}</p>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='makes'>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t[e.target.name]: e.target.value,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tname='participant'\n\t\t\t\t\t\t\t\tid='participant'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\tvalue='participant'\n\t\t\t\t\t\t\t\tonClick={(e) => this.handleClick(e)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{this.state.p.map((participant) => (\n\t\t\t\t\t\t\t\t<p>{participant['_id']}</p>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n","import React, { Component } from 'react'\nimport axios from 'axios'\n\nexport default class MakeRoom extends Component {\n    constructor(){\n        super()\n        this.handleSubmit=this.handleSubmit.bind(this)\n    }\n    state = { view: ['', ''] }\n\tasync handleSubmit() {\n\t\tconst data = await (await axios.post('http://localhost:8080/make_room'))\n            .data\n            console.log(data)\n\t\tthis.setState({ view: [data['password'], data['_id']] }, () =>\n\t\t\tconsole.log(this.state.view)\n\t\t)\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className='Outer'>\n\t\t\t\t\t<div className='Inner' style={{display:'block'}}>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\tvalue='Create Room'\n\t\t\t\t\t\t\tonClick={this.handleSubmit}\n\t\t\t\t\t\t/>\n                        <br/>\n\t\t\t\t\t\t{\n                            \n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\tRoomId:\n                                {this.state.view[1]}\n                                <br/>\n                                Password:\n                                {this.state.view[0]} \n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n","import React, { Component } from 'react'\nimport axios from 'axios'\n\nexport default class JoinRoom extends Component {\n\tconstructor() {\n\t\tsuper()\n\t\tthis.state = {\n\t\t\troom_id: '5eba22e546181cdde18e4d69',\n\t\t\tusername: '',\n\t\t\tdata: '',\n\t\t}\n\t\tthis.handleSubmit = this.handleSubmit.bind(this)\n\t}\n\n\tasync handleSubmit() {\n\t\tconst data = await axios.post('http://localhost:8080/add_to_room', {\n\t\t\tusername: this.state.username,\n\t\t\troom_id: this.state.room_id,\n\t\t})\n\t\tthis.setState({ data: data })\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className='Outer'>\n\t\t\t\t\t<div className='Inner' style={{ display: 'block' }}>\n\t\t\t\t\t\tRoomId\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tname='room_id'\n\t\t\t\t\t\t\tid='room_id'\n\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t[e.target.name]: e.target.value,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue='5eba22e546181cdde18e4d69'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tUserName\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tname='username'\n\t\t\t\t\t\t\tid='username'\n\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t[e.target.name]: e.target.value,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\tvalue='Join'\n\t\t\t\t\t\t\tonClick={() => this.handleSubmit()}\n\t\t\t\t\t\t/>\n\t\t\t\t\t{this.state.data}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n","import React, { Component } from 'react'\nimport axios from 'axios'\nimport Peer from 'peerjs'\n\nconst qs = require('query-string')\n\nexport default class Make extends Component {\n\tconstructor() {\n\t\tsuper()\n\t\tthis.state = { local: '', count: 0 }\n\t}\n\tasync componentDidMount() {\n\t\tnavigator.getWebcam =\n\t\t\tnavigator.getUserMedia ||\n\t\t\tnavigator.webKitGetUserMedia ||\n\t\t\tnavigator.moxGetUserMedia ||\n\t\t\tnavigator.mozGetUserMedia ||\n\t\t\tnavigator.msGetUserMedia\n\n\t\tconst getUserMedia = navigator.mediaDevices.getUserMedia\n\t\tif (getUserMedia)\n\t\t\tgetUserMedia({ video: { facingMode: 'user' }, audio: true }).then(\n\t\t\t\t(stream) => {\n\t\t\t\t\tthis.setState({ local: stream })\n\n\t\t\t\t\tconst video = document.querySelector('video#local')\n\n\t\t\t\t\tvideo.srcObject = stream\n\n\t\t\t\t\tvideo.onloadedmetadata = (e) => {\n\t\t\t\t\t\tvideo.play()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\n\t\tconst room_id = qs.parse(this.props.location.search).room //DataBase\n\t\tconst my_id = qs.parse(this.props.location.search).peer\t  //Session->doctor_id\n\n\t\tlet peer_ids = await axios.post('http://localhost:8080/calls', {\n\t\t\troom_id: room_id,\n\t\t})\n\n\t\tconst peer = new Peer(my_id, {\n\t\t\thost: '2f86ad1c.ngrok.io',\n\t\t\t// port: 9000,\n\t\t\tpath: '/myapp',\n\t\t\tsecure: true\n\t\t})\n\n\t\tpeer.on('open', () => {\n\t\t\tconsole.log('open')\n\t\t})\n\t\tpeer.on('connection', (conn) => {\n\t\t\tconn.on('data', (data) => {\n\t\t\t\tconsole.log(data)\n\t\t\t})\n\t\t\tconn.on('error', (err) => console.log(err))\n\t\t\tconn.on('open', () => console.log('conn open'))\n\t\t\tconn.on('close', () => console.log('conn closed'))\n\t\t})\n\n\t\tpeer.on('call', (call) => {\n\t\t\tcall.answer(this.state.local)\n\t\t\tcall.on('stream', (stream) => {\n\t\t\t\tthis.setState({ remote: stream })\n                const count =this.state.count+1\n                \n                this.setState({count:count})\n\t\t\t\tconst video = document.querySelector('.remotes')\n                    .appendChild(document.createElement('video'))\n                \n\t\t\t\t// const video = document.querySelector('video#remote')\n\t\t\t\tvideo.srcObject = stream\n\n\t\t\t\tvideo.onloadedmetadata = (e) => {\n\t\t\t\t\tvideo.play()\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\n\t\tpeer_ids = peer_ids.data.filter((e) => e !== my_id)\n\t\tconsole.log(peer_ids)\n\n\t\tpeer_ids.map((a_peer) => {\n\t\t\tconst conn = peer.connect(a_peer)\n\t\t\tconn.on('error', (err) => console.log(err))\n\t\t\tconn.on('open', function () {\n\t\t\t\tconn.send('hi!')\n\t\t\t})\n\n\t\t\tconst call = peer.call(a_peer, this.state.local)\n\t\t\tconsole.log(call)\n\n\t\t\tcall.on('stream', (stream) => {\n\t\t\t\tthis.setState({ remote: stream })\n\n\t\t\t\tconst video = document.querySelector('video#remote')\n\t\t\t\tvideo.srcObject = stream\n\n\t\t\t\tvideo.onloadedmetadata = (e) => {\n\t\t\t\t\tvideo.play()\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<video src='' id='local'></video>\n\t\t\t\t<br />\n\t\t\t\t<div className='remotes'>\n\t\t\t\t\t<video src='' id='remote'></video>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n","import React, { Component, Fragment } from 'react'\nimport Peer from 'peerjs'\n\nclass Test extends Component {\n\tconstructor() {\n\t\tsuper()\n\n\t\tthis.state = { id: require('uuid').v4() }\n\n\t\tthis.connect = this.connect.bind(this)\n\t\tthis.stream = this.stream.bind(this)\n\t}\n\n\tconnect() {\n\t\tconst conn = this.state.peer.connect(this.state.conn_id)\n\t\tconn.on('error', (err) => console.log(err))\n\t\tconn.on('open', function () {\n\t\t\tconn.send('hi!')\n\t\t})\n\t}\n\n\tstream() {\n\t\tconst call = this.state.peer.call(this.state.conn_id, this.state.local)\n\n\t\tcall.on('stream', (stream) => {\n\t\t\tthis.setState({ remote: stream })\n\n\t\t\tconst video = document.querySelector('video#remote')\n\t\t\tvideo.srcObject = stream\n\n\t\t\tvideo.onloadedmetadata = (e) => {\n\t\t\t\tvideo.play()\n\t\t\t}\n\t\t})\n\t}\n\tcomponentDidMount() {\n\t\tnavigator.getWebcam =\n\t\t\tnavigator.getUserMedia ||\n\t\t\tnavigator.webKitGetUserMedia ||\n\t\t\tnavigator.moxGetUserMedia ||\n\t\t\tnavigator.mozGetUserMedia ||\n\t\t\tnavigator.msGetUserMedia\n\n\t\tconst getUserMedia = navigator.mediaDevices.getUserMedia\n\t\tif (getUserMedia)\n\t\t\tgetUserMedia({ video: { facingMode: 'user' }, audio: true }).then(\n\t\t\t\t(stream) => {\n\t\t\t\t\tthis.setState({ local: stream })\n\n\t\t\t\t\tconst video = document.querySelector('video#local')\n\n\t\t\t\t\tvideo.srcObject = stream\n\n\t\t\t\t\tvideo.onloadedmetadata = (e) => {\n\t\t\t\t\t\tvideo.play()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\n\t\tconst peer = new Peer(this.state.id, {\n\t\t\thost: 'add52cc587dc.ngrok.io',\n\t\t\t// port: 9000,\n\t\t\tpath: '/myapp',\n\t\t\tsecure: true,\n\t\t})\n\t\tthis.setState({ peer: peer })\n\n\t\tpeer.on('open', () => {\n\t\t\tconsole.log('open')\n\t\t})\n\t\tpeer.on('connection', (conn) => {\n\t\t\tconn.on('data', (data) => {\n\t\t\t\tconsole.log(data)\n\t\t\t})\n\t\t\tconn.on('error', (err) => console.log(err))\n\t\t\tconn.on('open', () => console.log('conn open'))\n\t\t\tconn.on('close', () => console.log('conn closed'))\n\t\t})\n\n\t\tpeer.on('call', (call) => {\n\t\t\tcall.answer(this.state.local)\n\t\t\tcall.on('stream', (stream) => {\n\t\t\t\tthis.setState({ remote: stream })\n\n\t\t\t\tconst video = document.querySelector('video#remote')\n\t\t\t\tvideo.srcObject = stream\n\n\t\t\t\tvideo.onloadedmetadata = (e) => {\n\t\t\t\t\tvideo.play()\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{this.state.id}\n\t\t\t\t<div className=''>\n\t\t\t\t\t<video\n\t\t\t\t\t\tmuted\n\t\t\t\t\t\tstyle={{ transform: 'scaleX(-1)' }}\n\t\t\t\t\t\tid='local'\n\t\t\t\t\t\tsrc=''\n\t\t\t\t\t></video>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tname='conn_id'\n\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\tthis.setState({ 'conn_id': e.target.value },()=>console.log(this.state))\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\tclassName='btn'\n\t\t\t\t\t\tvalue='connect'\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\tthis.connect()\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=''>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\tclassName='btn'\n\t\t\t\t\t\tvalue='stream'\n\t\t\t\t\t\tonClick={() => this.stream()}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=''>\n\t\t\t\t\t<video id='remote' src=''></video>\n\t\t\t\t</div>\n\n\t\t\t</Fragment>\n\t\t)\n\t}\n}\nexport default Test\n","import React, { Component } from 'react'\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport Create from './Create'\nimport MakeRoom from './MakeRoom'\nimport JoinRoom from './JoinRoom'\nimport UserCall from './UserCall'\nimport Call from './Call'\n\nexport default class App extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<Router>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path='/create'>\n\t\t\t\t\t\t\t<Create></Create>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path='/make_room'>\n\t\t\t\t\t\t\t<MakeRoom></MakeRoom>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path='/join'>\n\t\t\t\t\t\t\t<JoinRoom></JoinRoom>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path='/user_call' component={UserCall}>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path='/'>\n\t\t\t\t\t\t\t<Call></Call>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t</Switch>\n\t\t\t\t</Router>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n","import { createStore } from 'redux'\n\nconst ADD_HELLO = 'ADD_HELLO'\n\nexport function addHello(payload){\n    return {type:ADD_HELLO,payload}\n}\n\nfunction rootReducer(\n\tstate = {\n\t\thello: [],\n\t},\n\taction\n) {\n\tif (action.type === ADD_HELLO) {\n\t\tstate.hello.push(action.payload)\n    }\n    return state\n}\n\nconst store = createStore(rootReducer)\n\nexport default store\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\n\nimport './styles/index.scss'\n\nimport App from './scripts/App'\nimport store from './redux/store'\n\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n)\n\nserviceWorker.unregister()\n// import index from './redux/index'"],"sourceRoot":""}